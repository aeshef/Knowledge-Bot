ЗАДАЧА: Верни массив tags для заметки данного type.

ВХОД:
- type — выбранная категория.
- summary.derived (url_text/pdf_text/ocr_text/asr_text) и summary.raw_text — источники смысла.
- attachments.links — для определения source/<домен> при необходимости.
- enums.tags — контролируемые неймспейсы и допустимые значения.
- enums.fields — допустимые значения полей с фиксированными списками по каждому type.
- fields — уже извлечённые поля из шага field_fill (если доступны).
 - synonyms — словарь синонимов по неймспейсам для приведения к каноническим значениям (например: topic: {"собеседование": "interview"}).
 - filenames — массив исходных имён файлов (если есть) — можно использовать как дополнительную подсказку для topic или source.

ГИД ПО ТЕГАМ (выжимка из catgories.md):
- Общие свободные неймспейсы:
  - topic/<тема> — ключевая тема ("ml", "live-coding", "театры").
  - domain/<область> — слой жизни/деятельности ("study", "creative", "food", "travel", "life").
  - source/<канал|домен> — канал/источник ("youtube", "arxiv", "telegram", домен из URL: "source/youtube").
  - language/<ru|en|...> — только если явно следует из содержания/поля, без автодетекта.
  - vibe/<личный_маркер> — персональные маркеры по тексту (редко, только явно выраженные).
- Типоспецифичные неймспейсы (контролируемые):
  - Контент для потребления (песня/видео/фильм/книга/курс/учебник): status/<planned|in-progress|done>.
  - Рецепт: cuisine/<кухня>, kind/<тип_блюда>.
  - Место: category/<культура|еда|природа|...>, city/<город>.
  - Путешествие: category/<культура|еда|природа|...> (если явно прослеживается общий фокус).
  - Вишлист: priority/<high|medium|low>, category/<категория>.
  - Мем: meme/<meme|screenshot> (или subtype в полях), nsfw при необходимости.
  - Документ: doc_type/<из enums> при наличии фиксированного списка.

ПРАВИЛА ФОРМИРОВАНИЯ:
- Используй ТОЛЬКО то, что однозначно следует из входа или из fields.
- Для контролируемых неймспейсов (из enums.tags) выбирай ТОЛЬКО допустимые значения; если входное значение не сопоставляется с допустимым (через synonyms или по slug‑совпадению), опусти тег.
- Если у type есть поля с фиксированными значениями (enums.fields[type]), то:
  - Для каждого такого поля p со значением v добавь соответствующий тег <namespace>/<v> согласно справочнику выше.
  - Пример: type="рецепт", fields.cuisine="итальянская" → добавь "cuisine/итальянская".
  - Пример: type="видео", fields.status="planned" → добавь "status/planned".
- Свободные неймспейсы topic/domain/source/language/vibe допускаются, если явно следуют из текста или ссылок:
  - source/<домен> можно ставить по первому URL (без www, только домен второго уровня), напр. https://www.youtube.com → "source/youtube".
  - language/* не ставить эвристически: только если явно указано или приходит полем.
- Значения нормализуй: тримминг, нижний регистр, пробелы → "-"; спецсимволы убери; для свободных неймспейсов выполняй транслитерацию в латиницу и приводи к ASCII‑слагу ("собеседование" → "sobesedovanie").
- ТРЕБОВАНИЕ К КАНОНИЧНОСТИ: финальные теги должны быть all‑english ASCII (латиница, цифры, дефис), неймспейсы — латиницей.
- Если значение встречается в synonyms для соответствующего неймспейса — используй каноническое (например, "собеседование" → "interview").
- Не дублируй теги, не изобретай новые неймспейсы, не переводй значения.

ВЫХОД:
- Верни компактный JSON‑массив строк: ["topic/...", "domain/...", ...]. Никаких комментариев, без дубликатов.

FEW‑SHOT:
1) type=«видео», links=[youtube], fields.status="planned", текст про live‑coding →
   ["topic/live-coding", "domain/creative", "source/youtube", "status/planned"]
2) type=«учебник», url arxiv, тема «linear algebra» →
   ["domain/study", "source/arxiv", "topic/linear-algebra"]
3) type=«рецепт», cuisine=«итальянская», kind=«паста», без ссылок →
   ["domain/food", "cuisine/итальянская", "kind/паста"]
4) type=«место», city=«Москва», category=«еда» →
   ["domain/travel", "city/москова", "category/еда"]
5) type=«вишлист», priority=«high», категория «gear» →
   ["domain/life", "priority/high", "category/gear"]
